<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="/assets/img/favicon.png">
    <title>
        아하포장건설
    </title>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Noto+Sans:300,400,500,600,700,800|PT+Mono:300,400,500,600,700"
          rel="stylesheet"/>
    <!-- Nucleo Icons -->
    <link href="/assets/css/nucleo-icons.css" rel="stylesheet"/>
    <link href="/assets/css/nucleo-svg.css" rel="stylesheet"/>
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/349ee9c857.js" crossorigin="anonymous"></script>
    <link href="/assets/css/nucleo-svg.css" rel="stylesheet"/>
    <!-- CSS Files -->
    <link id="pagestyle" href="/assets/css/corporate-ui-dashboard.css?v=1.0.0" rel="stylesheet"/>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js"
            crossorigin="anonymous"></script>
    <!— Tempus Dominus JavaScript —>
    <script src="https://cdn.jsdelivr.net/gh/Eonasdan/tempus-dominus@master/dist/js/tempus-dominus.js"
            crossorigin="anonymous"></script>

    <!— Tempus Dominus Styles —>
    <link href="https://cdn.jsdelivr.net/gh/Eonasdan/tempus-dominus@master/dist/css/tempus-dominus.css"
          rel="stylesheet" crossorigin="anonymous">

</head>
<body>
<div class="card m-3">

    <div class="card-body">
        <h5 class="card-title mt-3 mb-3">게시판 상세보기</h5>
        <div class="row">
            <div class="col-sm-12">
                <div class="form-group">
                 <input type = "hidden" th:value="${selectdata.b_id}" name="b_id" id="b_id">
                 <label class="form-control-label">*카테고리</label>
                 <select class="form-select" aria-label="Default select example" id="ct_id" disabled="disabled" >
                        <option th:text="공지사항" th:value="${selectdata.ct_id}"></option>
                        <option th:text="자유게시판" th:value="${selectdata.ct_id}"></option>
                        <option th:text="QnA" th:value="${selectdata.ct_id}"></option>
                    </select>
                </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label class="form-control-label">*유저</label>
                    <input class = "form-control" type="text" id="us_id" name="us_id" th:value="${selectdata.us_id}" readonly="readonly" >
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label class="form-control-label">*제목</label>
                    <input class="form-control" type="text" id="b_title" name="b_title" th:value="${selectdata.b_title}" readonly="readonly">
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label class="form-control-label">*본문</label>
                    <input class="form-control" type="text" id="b_body" name="b_body" size="10" th:value="${selectdata.b_body}" readonly="readonly">
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label class="form-control-label">비고</label>
                    <input class="form-control" type="text" id="b_etc" name="b_etc" th:value="${selectdata.b_etc}" readonly="readonly">
                </div>
            </div>
            <div class="col-sm-12">
                <div class="form-group">
                    <label class="form-control-label">파일</label>
                    <input class="form-control" type="file" id="b_file" name="b_file" th:value="${selectdata.b_file}" disabled="disabled">
                </div>
            </div>
            </div>
            
            <hr>
           
           
          
        </div>
        
        </div>
        
        <!-- 댓글시작 -->
     <div>
        <h2 style="margin-left:870px">댓글</h2>
    </div>
      <div class=" d-flex justify-content-end" style="padding-right: 40px">
               <button class="btn btn-primary" th:onclick="replyboard([[${selectdata.b_id}]])">댓글작성</button>
      </div>
      
           <div class="card-body px-0 py-0">
                    <div class="border-bottom py-3 px-3 d-sm-flex align-items-center" style="border-bottom: 2px">
                        <table class="table align-items-center mb-0">
                            <thead class="bg-gray-100">
                            <tr>
                                <td class="text-secondary text-xs font-weight-semibold opacity-7">번호</td>
                                <th style="padding-left: 50px" class="text-secondary text-xs font-weight-semibold opacity-7 ps-2">게시판 번호</th>
                                <th class="text-center text-secondary text-xs font-weight-semibold opacity-7">댓글 내용</th>
                                <th class="text-center text-secondary text-xs font-weight-semibold opacity-7">유저</th>
                            </tr>
                            </thead>
                            <tbody>
                            <th:block th:each="data:${replydata}">
                                <tr>
                                    <td>
                                        <div class="d-flex px-2 py-1">
                                            <div class="d-flex align-items-center">

                                            </div>
                                            <div class="d-flex flex-column justify-content-center ms-1">
                                            </div>
                                                <span class="text-secondary text-sm font-weight-normal"
                                                     th:text ="${data.rp_id}"></span>
                                        </div>
                                    </td>
                                    <td style="padding-left: 30px" >
                                    	<span class="text-secondary text-sm font-weight-normal"
                                              	th:text ="${data.b_id}"></span>
                                              	  
                                    </td>
                                    <td class="align-middle text-center text-sm">
                                        <span class="text-secondary text-sm font-weight-normal"
                                          		th:text ="${data.rp_body}"></span>
                                    <td class="align-middle text-center">
                                        <span class="text-secondary text-sm font-weight-normal"
                                              th:text ="${data.us_id}"></span>
                                    </td>
                                    
                                    
                                 
										<td class="align-middle">
                                        <a href="#" th:onclick="replyedit([[${data.rp_id}]])">
                                           <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-pen-fill" viewBox="0 0 16 16">
  											<path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001z"/>
											</svg>
                                       </a>
                                    </td>
                               
                                </tr>
                            </th:block>
                            </tbody>
                        </table>
                        </div>
                        </div>

			
		
      
<script>
			//댓글 등록
            function replyboard(id){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/board/replyregister?b_id="+id, "_blank", option);
            }
			
            </script>
            
            <script>
			//댓글 수정
            function replyedit(id){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/board/replyupdate?rp_id="+id, "_blank", option);
            }
			
            </script>


                    </div>
                   
                <div class="table-responsive p-0">
                </div>
           
       

    


</body>

</html>