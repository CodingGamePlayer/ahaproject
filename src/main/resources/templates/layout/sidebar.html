<html lagn="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">


<!--headerFragment 선언-->
<div th:fragment="SidebarFragment">
    <aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 bg-slate-900 fixed-start " id="sidenav-main">
        <div class="sidenav-header">
            <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
            <a class="navbar-brand d-flex align-items-center m-0" href="/">
                <span class="font-weight-bold text-lg">Aha Company</span>
            </a>
        </div>
        <div class="collapse navbar-collapse px-4  w-auto " id="sidenav-collapse-main">
            <ul class="navbar-nav">
                <button class="btn btn-sm  mt-3 text-start mb-2 btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#basicInfo" aria-expanded="false" aria-controls="collapseExample1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-fill me-1" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001 6.971 2.789Zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"/>
                    </svg>
                    BasicInfo
                </button>

                <div class="collapse ms-3 mb-3" id="basicInfo" >
                    <div><a href="/user/client/list" class="text-white text-sm">- 고객정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitClient()">- 고객정보 입력</a></div>
                    <div><hr></div>
                    <div><a href="/user/employee/emmain" class="text-white text-sm">- 직원정보 보기</a></div>
<!--                    20230207 15:44 수정-->
                    <div><a href="#" class="text-white text-sm" th:onclick="regitEmployee()">- 직원정보 입력</a></div>
                    <div><hr></div>
                    <div><a th:href="@{/user/machine}" class="text-white text-sm">- 장비정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitMachine()">- 장비정보 입력</a></div>
                    <div><hr></div>
                    <div><a href="/user/company/list" class="text-white text-sm">- 회사정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitCompany()">- 회사정보 입력</a></div>
                    <div><hr></div>
                    <div><a href="/user/material/list" class="text-white text-sm">- 자재정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitMaterial()">- 자재정보 입력</a></div>
                    <div><hr></div>
                    <div><a th:href="@{/user/basicinfo/card/card-list}" class="text-white text-sm">- 카드정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitCard()">- 카드정보 입력</a></div>

                </div>
                <button class="btn btn-sm mt-3 text-start mb-2 btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#worksite" aria-expanded="false" aria-controls="collapseExample1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-workspace me-1" viewBox="0 0 16 16">
                        <path d="M4 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H4Zm4-5.95a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
                        <path d="M2 1a2 2 0 0 0-2 2v9.5A1.5 1.5 0 0 0 1.5 14h.653a5.373 5.373 0 0 1 1.066-2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v9h-2.219c.554.654.89 1.373 1.066 2h.653a1.5 1.5 0 0 0 1.5-1.5V3a2 2 0 0 0-2-2H2Z"/>
                    </svg>
                    Workspace
                </button>
                <div class="collapse ms-3 mb-3" id="worksite" >
                    <div><a th:href="@{/user/worksite/construction/cst-list}" class="text-white text-sm">- 공사정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitConstruction()">- 공사정보 입력</a></div>
                    <div><hr></div>
                    <div><a href="/user/worksite/use-material/list" class="text-white text-sm">- 자재사용내역 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitUseMaterial()">- 자재사용내역 입력</a></div>
                    <div><hr></div>
                    <div><a href="#" class="text-white text-sm">- 견적서정보 보기</a></div>
                    <div><a href="#" class="text-white text-sm">- 견적서정보 입력</a></div>
                    <div><hr></div>
                    <div><a href="#" class="text-white text-sm">- 카드사용내역 보기</a></div>
                    <div><a href="#" class="text-white text-sm">- 카드사용내역 입력</a></div>
                    <div><hr></div>
                    <div><a href="#" class="text-white text-sm">- 장비대여내역 보기</a></div>
                    <div><a href="#" class="text-white text-sm">- 장비대여내역 입력</a></div>
                </div>
                <button class="btn btn-sm  btn-primary mt-3 text-start mb-2 " type="button" data-bs-toggle="collapse" data-bs-target="#gboard" aria-expanded="false" aria-controls="collapseExample1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-right-text me-1" viewBox="0 0 16 16">
                        <path d="M2 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9.586a2 2 0 0 1 1.414.586l2 2V2a1 1 0 0 0-1-1H2zm12-1a2 2 0 0 1 2 2v12.793a.5.5 0 0 1-.854.353l-2.853-2.853a1 1 0 0 0-.707-.293H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12z"/>
                        <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                    </svg>
                    Communication
                </button>
                <div class="collapse ms-3 mb-3" id="gboard" >
                <div><a href="/user/gboard/list" class="text-white text-sm">- 전체보기</a></div>
                    <div><a href="#" class="text-white text-sm">- 공지사항</a></div>
                    <div><a href="#" class="text-white text-sm">- 자유게시판</a></div>
                    <div><a href="#" class="text-white text-sm">- QnA</a></div>

                </div>
                <button class="btn btn-sm mt-3 text-start mb-2 btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#accounting" aria-expanded="false" aria-controls="collapseExample1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-accounting me-1" viewBox="0 0 16 16">
                        <path d="M4 16s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H4Zm4-5.95a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
                        <path d="M2 1a2 2 0 0 0-2 2v9.5A1.5 1.5 0 0 0 1.5 14h.653a5.373 5.373 0 0 1 1.066-2H1V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v9h-2.219c.554.654.89 1.373 1.066 2h.653a1.5 1.5 0 0 0 1.5-1.5V3a2 2 0 0 0-2-2H2Z"/>
                    </svg>
                    Accounting
                </button>
                <div class="collapse ms-3 mb-3" id="accounting" >
                    <div><a th:href="@{/user/accounting/summary/list}" class="text-white text-sm" target="_blank">- 공사정보 전체보기</a></div>
                    <div><hr></div>
                    <div><a th:href="@{/user/accounting/outcome/list}" class="text-white text-sm">- 매출내역 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitOutcome()">- 매출내역 입력</a></div>
                    <div><hr></div>
                    <div><a th:href="@{/user/accounting/income/list}" class="text-white text-sm">- 매입내역 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitIncome()">- 매입내역 입력</a></div>
                    <div><hr></div>
                    <div><a href="#" class="text-white text-sm">- 인건비내역 보기</a></div>
                    <div><a href="#" class="text-white text-sm">- 인건비내역 입력</a></div>
                </div>
                <button sec:authorize="hasAuthority('ROLE_ADMIN')" class="btn btn-sm btn-warning mt-3 text-start mb-2 " type="button" data-bs-toggle="collapse" data-bs-target="#adminPage" aria-expanded="false" aria-controls="collapseExample1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-briefcase-fill me-1" viewBox="0 0 16 16">
                        <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                        <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                    </svg>
                    Admin Page
                </button>
                <div class="collapse ms-3 mb-3" id="adminPage" >
                    <div><a href="/admin/misu" class="text-white text-sm">- 미수금현황 보기</a></div>
                    <div><a href="#" class="text-white text-sm" th:onclick="regitMisu()">- 미수금 등록</a></div>
                    <div><hr></div>
                    <div><a href="#" class="text-white text-sm">- 블랙리스트 등록</a></div>
                    <div><a href="#" class="text-white text-sm">- 블랙리스트 보기</a></div>
                    <div><hr></div>
                    <div><a href="/admin/manage-account" class="text-white text-sm">- 사용자권한 변경</a></div>
                </div>

                <li class="nav-item mt-2">
                    <div class="d-flex align-items-center nav-link">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="ms-2 w-6 h-6" viewBox="0 0 24 24" fill="currentColor" >
                            <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" clip-rule="evenodd" />
                        </svg>
                        <span class="font-weight-normal text-md ms-2">Account Pages</span>
                    </div>
                </li>
                <li class="nav-item border-start my-0 pt-2" sec:authorize="isAuthenticated()">
                    <a class="nav-link position-relative ms-0 ps-2 py-2 " id="sidebar-logout" href="#">
                        <span class="nav-link-text ms-1">Logout</span>
                    </a>
                </li>
                <li class="nav-item border-start my-0 pt-2" sec:authorize="isAnonymous()">
                    <a class="nav-link position-relative ms-0 ps-2 py-2 " th:href="@{/login-form}">
                        <span class="nav-link-text ms-1">Login</span>
                    </a>
                </li>
                <li class="nav-item border-start my-0 pt-2" sec:authorize="isAnonymous()">
                    <a class="nav-link position-relative ms-0 ps-2 py-2 " th:href="@{/register-form}">
                        <span class="nav-link-text ms-1">Sing-up</span>
                    </a>
                </li>
            </ul>
        </div>
        <script>
            function regitMisu(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/admin/misu-form", "_blank", option);
            }
            function regitClient(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/client/form", "_blank", option);
            }
            
            // 현장 - 자재 입력 페이지 이동하기 
            function regitUseMaterial(){
				let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";
				
                window.open("/user/worksite/use-material/register", "_blank", option);
            }
            
            // 자재정보 입력 페이지 이동하기
            function regitMaterial() {
            	let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";
				
                window.open("/user/material/register", "_blank", option);
            }	


            // 장비정보 입력
            function regitMachine(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/basicinfo/register", "_blank", option);
            }
            function regitCompany(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/company/form", "_blank", option);
            }

            const logoutBtn = document.querySelector('#sidebar-logout');

            logoutBtn.addEventListener("click", ()=>{
               if (window.confirm("로그아웃을 하시겠습니까?")){
                   window.location.href="http://localhost:9000/logout";
               }
            });


            //인사정보 등록(새창)
            function regitEmployee(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/employee/emform", "_blank", option);
            }
            
			//카드정보 입력
            function regitCard(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/basicinfo/card/card-form", "_blank", option);
            }
            
            //매입,매출 등록
            function regitIncome(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/accounting/income/register", "_blank", option);
            }
            function regitOutcome(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/accounting/outcome/register", "_blank", option);
            }
            
            // 공사정보 입력
            function regitConstruction(){
                let option = "toolbar=no,scrollbars=no,resizable=yes,status=no,menubar=no,width=500, height=1000, top=0,left=0";

                window.open("/user/worksite/construction/cst-form", "_blank", option);
            }


        </script>
        <div class="sidenav-footer mx-4 ">
            <div class="card border-radius-md" id="sidenavCard">
                <div class="card-body  text-start  p-3 w-100">

                    <div class="docs-info">
                        <h6 class="font-weight-bold up mb-2">Need help?</h6>
                        <p class="text-sm font-weight-normal">고객센터 바로가기</p>
                        <a href="https://www.creative-tim.com/learning-lab/bootstrap/license/corporate-ui-dashboard" target="_blank" class="font-weight-bold text-sm mb-0 icon-move-right mt-auto w-100 mb-0">
                            QnA 문의하러 가기
                            <i class="fas fa-arrow-right-long text-sm ms-1" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </aside>
</div>
</html>